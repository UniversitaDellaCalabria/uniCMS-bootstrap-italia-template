<!-- Extends default Bootstrap Unical Italia template -->
{% extends 'bootstrap-italia-base.html' %}


{% load i18n %}

<!-- From app django-sass-processor -->
{% if debug %}
    {% load sass_tags %}
{% endif %}
{% load static %}

<!-- load custom template tags -->
{% load unicms_carousels %}
{% load unicms_contexts %}
{% load unicms_menus %}
{% load unicms_pages %}
{% load unicms_publications %}
{% load unicms_templates %}

<!-- Return to Agid native template -->
{% block extra_head %}
    {{ block.super }}
    {% block head_inits %}
    {% include "inits/search-input-handler.html" %}
    {% include "inits/vue-init.html" %}
    {% endblock head_inits %}
{% endblock extra_head %}

<!-- Page Title -->
{% block page_title %}{% trans "uniCMS - Bootstrap Italia Django CMS" %}{% endblock page_title %}

<!-- Header slim wrapper -->
{% block header_slim_top_left %}
{% if request.user.is_staff %}
{% include "components/italia_editorialboard_frontend_menu.html" %}
{% endif %}
{% endblock header_slim_top_left %}

{% block header_slim_sub_menu %}
<div class="nav-item dropdown">
    <a class="nav-link dropdown-toggle"
       href="#"
       data-toggle="dropdown"
       aria-expanded="false">
        <span>{{ request.LANGUAGE_CODE }}</span>
        <svg class="icon d-none d-lg-block">
            <use xlink:href="{% static 'svg/sprite.svg' %}#it-expand"></use>
        </svg>
    </a>
    <div class="dropdown-menu">
        <div class="row">
            <div class="col-12">
                <div class="link-list-wrapper">
                    <ul class="link-list">
                        {% language_menu as language_urls %}
                        {% for lang,url in language_urls.items %}
                        <li><a class="list-item" href="{{ url }}"><span>{{ lang }}</span></a></li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock header_slim_sub_menu %}

{% block header_slim_buttons %}
<div class="it-access-top-wrapper">
    <button class="btn btn-primary btn-sm" href="#" type="button">
        {% trans "Login" %}
    </button>
</div>
{% endblock header_slim_buttons %}
<!-- end Header slim wrapper -->

<!-- URL link logo and org name -->
{% block header_center_url %}
{{ webpath.get_full_path }}
{% endblock header_center_url %}

{% block header_mobile_arrow %}
{% endblock header_mobile_arrow %}

{% block header_mobile_slim_menu %}
{% endblock header_mobile_slim_menu %}

{% block header_slim_mobile_org_name %}
{% endblock header_slim_mobile_org_name %}

{% block header_center_wrapper_columns %}
col-10 offset-2 col-lg-12 offset-lg-0
{% endblock header_center_wrapper_columns %}

<!-- Main Menu -->
{% block main_menu %}
    {% load_blocks section='menu-1' %}
{% endblock main_menu %}

<!-- Container -->
{% block container %}

<!-- Main Banner-->
{% block banner %}
    {% load_blocks section='banner' %}
{% endblock banner %}
<!-- end Main Banner-->

<!-- Menu 2-->
{% block menu-2 %}
    {% load_blocks section='menu-2' %}
{% endblock menu-2 %}
<!-- end Menu 2-->

<!-- Breadcrumbs -->
{% block breadcrumbs %}
    {% load_blocks section="breadcrumbs" %}
{% endblock breadcrumbs %}
<!-- end Breadcrumbs -->

<!-- Section 1 -->
{% block section_1 %}
{% blocks_in_position position="section-1" as section_1 %}
{% if section_1 %}
    {% load_blocks section="1-top-a" as 1_top_a %}
    {% load_blocks section="1-top-b" as 1_top_b %}
    {% load_blocks section="1-top-c" as 1_top_c %}

    {% load_blocks section="1-mid-top-a" as 1_mid_top_a %}
    {% load_blocks section="1-mid-top-b" as 1_mid_top_b %}
    {% load_blocks section="1-mid-top-c" as 1_mid_top_c %}

    {% load_blocks section="1-left-a" as 1_left_a %}
    {% load_blocks section="1-left-b" as 1_left_b %}

    {% load_blocks section="1-center-top-a" as 1_center_top_a %}
    {% load_blocks section="1-center-top-b" as 1_center_top_b %}
    {% load_blocks section="1-center-top-c" as 1_center_top_c %}

    {% load_blocks section="1-center-content" as 1_center_content %}

    {% load_blocks section="1-center-bottom-a" as 1_center_bottom_a %}
    {% load_blocks section="1-center-bottom-b" as 1_center_bottom_b %}
    {% load_blocks section="1-center-bottom-c" as 1_center_bottom_c %}

    {% load_blocks section="1-right-a" as 1_right_a %}
    {% load_blocks section="1-right-b" as 1_right_b %}

    {% load_blocks section="1-mid-bottom-a" as 1_mid_bottom_a %}
    {% load_blocks section="1-mid-bottom-b" as 1_mid_bottom_b %}
    {% load_blocks section="1-mid-bottom-c" as 1_mid_bottom_c %}

    {% load_blocks section="1-bottom-a" as 1_bottom_a %}
    {% load_blocks section="1-bottom-b" as 1_bottom_b %}
    {% load_blocks section="1-bottom-c" as 1_bottom_c %}

    <div class="{% block section_1_classes %}py-5{% endblock %}">
        <div class="container">
            <div class="row">

                <!-- Top -->
                {% if 1_top_a or 1_top_b or 1_top_c %}
                <div class="col-12">
                    <div class="row">
                        {% if 1_top_a and 1_top_b and 1_top_c %}
                            <div class="{% block 1_top_abc_a %}col-12 col-md-4{% endblock %}">{{ 1_top_a }}</div>
                            <div class="{% block 1_top_abc_b %}col-12 col-md-4{% endblock %}">{{ 1_top_b }}</div>
                            <div class="{% block 1_top_abc_c %}col-12 col-md-4{% endblock %}">{{ 1_top_c }}</div>
                        {% elif 1_top_a and 1_top_b %}
                            <div class="{% block 1_top_ab_a %}col-12 col-md-8{% endblock %}">{{ 1_top_a }}</div>
                            <div class="{% block 1_top_ab_b %}col-12 col-md-4{% endblock %}">{{ 1_top_b }}</div>
                        {% elif 1_top_a and 1_top_c %}
                            <div class="{% block 1_top_ac_a %}col-12 col-md-6{% endblock %}">{{ 1_top_a }}</div>
                            <div class="{% block 1_top_ac_c %}col-12 col-md-6{% endblock %}">{{ 1_top_c }}</div>
                        {% elif 1_top_b and 1_top_c %}
                            <div class="{% block 1_top_bc_b %}col-12 col-md-4{% endblock %}">{{ 1_top_b }}</div>
                            <div class="{% block 1_top_bc_c %}col-12 col-md-8{% endblock %}">{{ 1_top_c }}</div>
                        {% else %}
                            <div class="col-12">{{ 1_top_a }}{{ 1_top_b }}{{ 1_top_c }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <!-- end Top -->

                <!-- Middle Top -->
                {% if 1_mid_top_a or 1_mid_top_b or 1_mid_top_c %}
                <div class="col-12">
                    <div class="row">
                        {% if 1_mid_top_a and 1_mid_top_b and 1_mid_top_c %}
                            <div class="{% block 1_mid_top_abc_a %}col-12 col-md-4{% endblock %}">{{ 1_mid_top_a }}</div>
                            <div class="{% block 1_mid_top_abc_b %}col-12 col-md-4{% endblock %}">{{ 1_mid_top_b }}</div>
                            <div class="{% block 1_mid_top_abc_c %}col-12 col-md-4{% endblock %}">{{ 1_mid_top_c }}</div>
                        {% elif 1_mid_top_a and 1_mid_top_b %}
                            <div class="{% block 1_mid_top_ab_a %}col-12 col-md-8{% endblock %}">{{ 1_mid_top_a }}</div>
                            <div class="{% block 1_mid_top_ab_b %}col-12 col-md-4{% endblock %}">{{ 1_mid_top_b }}</div>
                        {% elif 1_mid_top_a and 1_mid_top_c %}
                            <div class="{% block 1_mid_top_ac_a %}col-12 col-md-6{% endblock %}">{{ 1_mid_top_a }}</div>
                            <div class="{% block 1_mid_top_ac_c %}col-12 col-md-6{% endblock %}">{{ 1_mid_top_c }}</div>
                        {% elif 1_mid_top_b and 1_mid_top_c %}
                            <div class="{% block 1_mid_top_bc_b %}col-12 col-md-4{% endblock %}">{{ 1_mid_top_b }}</div>
                            <div class="{% block 1_mid_top_bc_c %}col-12 col-md-8{% endblock %}">{{ 1_mid_top_c }}</div>
                        {% else %}
                            <div class="col-12">{{ 1_mid_top_a }}{{ 1_mid_top_b }}{{ 1_mid_top_c }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
                <!-- end Middle Top -->

                <!-- Blocks in center positions -->
                {% if 1_center_top_a or 1_center_top_b or 1_center_top_c or 1_center_content or 1_center_bottom_a or 1_center_bottom_b or 1_center_bottom_c %}

                    <!-- Blocks in left column -->
                    {% if 1_left_a or 1_left_b %}
                        {% if 1_left_a and 1_left_b %}
                        <div class="{% block 1_left_ab %}col-12 col-md-4{% endblock %}">
                        {% elif 1_left_a %}
                        <div class="{% block 1_left_a %}col-12 col-md-3{% endblock %}">
                        {% else %}
                        <div class="{% block 1_left_b %}col-12 col-md-2{% endblock %}">
                        {% endif %}
                            <div class="row">
                                {% if 1_left_a and 1_left_b %}
                                <div class="{% block 1_left_ab_a %}col-12 col-md-6{% endblock %}">{{ 1_left_a }}</div>
                                <div class="{% block 1_left_ab_b %}col-12 col-md-6{% endblock %}">{{ 1_left_b }}</div>
                                {% elif 1_left_a %}
                                <div class="col-12">{{ 1_left_a }}</div>
                                {% else %}
                                <div class="ol-12">{{ 1_left_b }}</div>
                                {% endif %}
                            </div>
                        </div>
                    {% endif %}
                    <!-- end Blocks in left column -->

                    <!-- Blocks in Center column (takes available space) -->
                    {% if 1_left_a and 1_left_b %}
                    <div class="{% block 1_center_left_ab %}col{% endblock %}">
                    {% elif 1_left_a %}
                    <div class="{% block 1_center_left_a %}col{% endblock %}">
                    {% elif 1_left_b %}
                    <div class="{% block 1_center_left_b %}col offset-md-1{% endblock %}">
                    {% else %}
                    <div class="{% block 1_center %}col{% endblock %}">
                    {% endif %}

                        <!-- Center top -->
                        {% if 1_center_top_a or 1_center_top_b or 1_center_top_c %}
                        <div class="row">
                            {% if 1_center_top_a and 1_center_top_b and 1_center_top_c %}
                                <div class="{% block 1_center_top_abc_a %}col-12 col-md-4{% endblock %}">{{ 1_center_top_a }}</div>
                                <div class="{% block 1_center_top_abc_b %}col-12 col-md-4{% endblock %}">{{ 1_center_top_b }}</div>
                                <div class="{% block 1_center_top_abc_c %}col-12 col-md-4{% endblock %}">{{ 1_center_top_c }}</div>
                            {% elif 1_center_top_a and 1_center_top_b %}
                                <div class="{% block 1_center_top_ab_a %}col-12 col-md-8{% endblock %}">{{ 1_center_top_a }}</div>
                                <div class="{% block 1_center_top_ab_b %}col-12 col-md-4{% endblock %}">{{ 1_center_top_b }}</div>
                            {% elif 1_center_top_a and 1_center_top_c %}
                                <div class="{% block 1_center_top_ac_a %}col-12 col-md-6{% endblock %}">{{ 1_center_top_a }}</div>
                                <div class="{% block 1_center_top_ac_c %}col-12 col-md-6{% endblock %}">{{ 1_center_top_c }}</div>
                            {% elif 1_center_top_b and 1_center_top_c %}
                                <div class="{% block 1_center_top_bc_b %}col-12 col-md-4{% endblock %}">{{ 1_center_top_b }}</div>
                                <div class="{% block 1_center_top_bc_c %}col-12 col-md-8{% endblock %}">{{ 1_center_top_c }}</div>
                            {% else %}
                                <div class="col-12">{{ 1_center_top_a }}{{ 1_center_top_b }}{{ 1_center_top_c }}</div>
                            {% endif %}
                        </div>
                        {% endif %}

                        <!-- Center content -->
                        {% if 1_center_content %}
                        <div class="row">
                            <div class="col">
                                {{ 1_center_content }}
                            </div>
                        </div>
                        {% endif %}

                        <!-- Center bottom -->
                        {% if 1_center_bottom_a or 1_center_bottom_b or 1_center_bottom_c %}
                        <div class="row">
                            {% if 1_center_bottom_a and 1_center_bottom_b and 1_center_bottom_c %}
                                <div class="{% block 1_center_bottom_abc_a %}col-12 col-md-4{% endblock %}">{{ 1_center_bottom_a }}</div>
                                <div class="{% block 1_center_bottom_abc_b %}col-12 col-md-4{% endblock %}">{{ 1_center_bottom_b }}</div>
                                <div class="{% block 1_center_bottom_abc_c %}col-12 col-md-4{% endblock %}">{{ 1_center_bottom_c }}</div>
                            {% elif 1_center_bottom_a and 1_center_bottom_b %}
                                <div class="{% block 1_center_bottom_ab_a %}col-12 col-md-8{% endblock %}">{{ 1_center_bottom_a }}</div>
                                <div class="{% block 1_center_bottom_ab_b %}col-12 col-md-4{% endblock %}">{{ 1_center_bottom_b }}</div>
                            {% elif 1_center_bottom_a and 1_center_bottom_c %}
                                <div class="{% block 1_center_bottom_ac_a %}col-12 col-md-6{% endblock %}">{{ 1_center_bottom_a }}</div>
                                <div class="{% block 1_center_bottom_ac_c %}col-12 col-md-6{% endblock %}">{{ 1_center_bottom_c }}</div>
                            {% elif 1_center_bottom_b and 1_center_bottom_c %}
                                <div class="{% block 1_center_bottom_bc_b %}col-12 col-md-4{% endblock %}">{{ 1_center_bottom_b }}</div>
                                <div class="{% block 1_center_bottom_bc_c %}col-12 col-md-8{% endblock %}">{{ 1_center_bottom_c }}</div>
                            {% else %}
                                <div class="col-12">{{ 1_center_bottom_a }}{{ 1_center_bottom_b }}{{ 1_center_bottom_c }}</div>
                            {% endif %}
                        </div>
                        {% endif %}

                    </div>
                    <!-- End Center column -->

                    <!-- Build right column -->
                    {% if 1_right_a or 1_right_b %}
                        {% if 1_right_a and 1_right_b %}
                        <div class="{% block 1_right_ab %}col-12 col-md-4{% endblock %}">
                        {% elif 1_right_a %}
                        <div class="{% block 1_right_a %}col-12 col-md-3{% endblock %}">
                        {% else %}
                        <div class="{% block 1_right_b %}col-12 col-md-2 offset-md-1{% endblock %}">
                        {% endif %}
                            <div class="row">
                                {% if 1_right_a and 1_right_b %}
                                <div class="{% block 1_right_ab_a %}col-12 col-md-6{% endblock %}">{{ 1_right_a }}</div>
                                <div class="{% block 1_right_ab_b %}col-12 col-md-6{% endblock %}">{{ 1_right_b }}</div>
                                {% elif 1_right_a %}
                                <div class="col-12">{{ 1_right_a }}</div>
                                {% else %}
                                <div class="col-12">{{ 1_right_b }}</div>
                                {% endif %}
                            </div>
                        </div>
                    {% endif %}

                <!-- No blocks in center positions -->
                {% else %}
                    {% if 1_left_a or 1_left_b %}
                        {% if 1_left_a and 1_left_b %}
                        <div class="{% block 1_left_no_center_ab %}col-12 col-md-6{% endblock %}">
                        {% elif 1_left_a %}
                        <div class="{% block 1_left_no_center_a %}col-12 col-md-6{% endblock %}">
                        {% elif 1_left_b %}
                        <div class="{% block 1_left_no_center_a %}col-12 col-md-6{% endblock %}">
                        {% endif %}
                            <div class="row">
                                {% if 1_left_a and 1_left_b %}
                                <div class="{% block 1_left_no_center_ab_a %}col-12 col-md-6{% endblock %}">{{ 1_left_a }}</div>
                                <div class="{% block 1_left_no_center_ab_b %}col-12 col-md-6{% endblock %}">{{ 1_left_b }}</div>
                                {% elif 1_left_a %}
                                <div class="col-12">{{ 1_left_a }}</div>
                                {% else %}
                                <div class="col-12">{{ 1_left_b }}</div>
                                {% endif %}
                            </div>
                        </div>
                        {% endif %}
                    {% endif %}

                    {% if 1_right_a or 1_right_b %}
                        {% if 1_right_a and 1_right_b %}
                        <div class="{% block 1_right_no_center %}col-12 col-md-6{% endblock %}">
                        {% elif 1_right_a %}
                        <div class="{% block 1_right_no_center %}col-12 col-md-6{% endblock %}">
                        {% elif 1_right_b %}
                        <div class="{% block 1_right_no_center %}col-12 col-md-6{% endblock %}">
                        {% endif %}
                            <div class="row">
                                {% if 1_right_a and 1_right_b %}
                                <div class="{% block 1_right_no_center_ab_a %}col-12 col-md-6{% endblock %}">{{ 1_right_a }}</div>
                                <div class="{% block 1_right_no_center_ab_b %}col-12 col-md-6{% endblock %}">{{ 1_right_b }}/div>
                                {% elif 1_right_a %}
                                <div class="col-12">{{ 1_right_a }}</div>
                                {% else %}
                                <div class="col-12">{{ 1_right_b }}</div>
                                {% endif %}
                            </div>
                        </div>
                    {% endif %}

                {% endif %}

                <!-- Blocks in middle bottom position -->
                {% if 1_mid_bottom_a or 1_mid_bottom_b or 1_mid_bottom_c %}
                <div class="col-12">
                    <div class="row">
                        {% if 1_mid_bottom_a and 1_mid_bottom_b and 1_mid_bottom_c %}
                            <div class="{% block 1_mid_bottom_abc_a %}col-12 col-md-4{% endblock %}">{{ 1_mid_bottom_a }}</div>
                            <div class="{% block 1_mid_bottom_abc_b %}col-12 col-md-4{% endblock %}">{{ 1_mid_bottom_b }}</div>
                            <div class="{% block 1_mid_bottom_abc_c %}col-12 col-md-4{% endblock %}">{{ 1_mid_bottom_c }}</div>
                        {% elif 1_mid_bottom_a and 1_mid_bottom_b %}
                            <div class="{% block 1_mid_bottom_ab_a %}col-12 col-md-8{% endblock %}">{{ 1_mid_bottom_a }}</div>
                            <div class="{% block 1_mid_bottom_ab_b %}col-12 col-md-4{% endblock %}">{{ 1_mid_bottom_b }}</div>
                        {% elif 1_mid_bottom_a and 1_mid_bottom_c %}
                            <div class="{% block 1_mid_bottom_ac_a %}col-12 col-md-6{% endblock %}">{{ 1_mid_bottom_a }}</div>
                            <div class="{% block 1_mid_bottom_ac_c %}col-12 col-md-6{% endblock %}">{{ 1_mid_bottom_c }}</div>
                        {% elif 1_mid_bottom_b and 1_mid_bottom_c %}
                            <div class="{% block 1_mid_bottom_bc_b %}col-12 col-md-4{% endblock %}">{{ 1_mid_bottom_b }}</div>
                            <div class="{% block 1_mid_bottom_bc_c %}col-12 col-md-8{% endblock %}">{{ 1_mid_bottom_c }}</div>
                        {% else %}
                            <div class="col-12">{{ 1_mid_bottom_a }}{{ 1_mid_bottom_b }}{{ 1_mid_bottom_c }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <!-- Blocks in bottom position -->
                {% if 1_bottom_a or 1_bottom_b or 1_bottom_c %}
                <div class="col-12">
                    <div class="row">
                        {% if 1_bottom_a and 1_bottom_b and 1_bottom_c %}
                            <div class="{% block 1_bottom_abc_a %}col-12 col-md-4{% endblock %}">{{ 1_bottom_a }}</div>
                            <div class="{% block 1_bottom_abc_b %}col-12 col-md-4{% endblock %}">{{ 1_bottom_b }}</div>
                            <div class="{% block 1_bottom_abc_c %}col-12 col-md-4{% endblock %}">{{ 1_bottom_c }}</div>
                        {% elif 1_bottom_a and 1_bottom_b %}
                            <div class="{% block 1_bottom_ab_a %}col-12 col-md-8{% endblock %}">{{ 1_bottom_a }}</div>
                            <div class="{% block 1_bottom_ab_b %}col-12 col-md-4{% endblock %}">{{ 1_bottom_b }}</div>
                        {% elif 1_bottom_a and 1_bottom_c %}
                            <div class="{% block 1_bottom_ac_a %}col-12 col-md-6{% endblock %}">{{ 1_bottom_a }}</div>
                            <div class="{% block 1_bottom_ac_c %}col-12 col-md-6{% endblock %}">{{ 1_bottom_c }}</div>
                        {% elif 1_bottom_b and 1_bottom_c %}
                            <div class="{% block 1_bottom_bc_b %}col-12 col-md-4{% endblock %}">{{ 1_bottom_b }}</div>
                            <div class="{% block 1_bottom_bc_c %}col-12 col-md-8{% endblock %}">{{ 1_bottom_c }}</div>
                        {% else %}
                            <div class="col-12">{{ 1_bottom_a }}{{ 1_bottom_b }}{{ 1_bottom_c }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

            </div>
        </div>
    </div>
{% endif %}
{% endblock section_1 %}
<!-- end Section 1 -->

<!--------------------------------------------------------------------->



{% endblock container %}
<!-- end Container -->
